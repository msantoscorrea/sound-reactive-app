{"id":"H99C","dependencies":[{"name":"C:\\workspace\\proj\\package.json","includedInParent":true,"mtime":1688434724953},{"name":"./styles.css","loc":{"line":1,"column":7,"index":7},"parent":"C:\\workspace\\proj\\src\\index.js","resolved":"C:\\workspace\\proj\\src\\styles.css"}],"generated":{"js":"\"use strict\";require(\"./styles.css\");var e=document.querySelector(\"#app h1\"),t=\"amplificar\",i=t.split(\"\"),n=16;function r(){for(var t=0;t<i.length;t++){var n=i[t],r=document.createElement(\"SPAN\");r.innerText=n,e.appendChild(r)}}function a(){c(),r()}function o(e){console.log(e)}function c(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise(function(i,n){t.call(navigator,e,i,n)}):Promise.reject(new Error(\"getUserMedia is not implemented in this browser\"))}),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){var i=new(window.AudioContext||window.webkitAudioContext),r=i.createAnalyser();r.minDecibels=-70,r.maxDecibels=-10,r.smoothingTimeConstant=.5,i.createMediaStreamSource(t).connect(r),r.fftSize=2*n;var a=new Uint8Array(n),o=[];requestAnimationFrame(function t(i){r.getByteFrequencyData(a);for(var c=0,d=0;d<n;d++)c+=a[d];(function(t){var i=e.childNodes;o.push(t),o.length>i.length&&o.shift();for(var n=i.length-1;n>=0;n--)i[n].style.fontVariationSettings='\"wght\" '.concat(s(o[n],0,64,10,100))})(c/=n),requestAnimationFrame(t)})}).catch(function(e){console.log(\"The following error occured: \"+e)})}function s(e,t,i,n,r){return(e-t)/(i-t)*(r-n)+n}window.addEventListener(\"load\",a(),!1);"},"sourceMaps":{"js":{"mappings":[{"source":"src/index.js","original":{"line":126,"column":0},"generated":{"line":1,"column":0}},{"source":"src/index.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"src/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":37}},{"source":"src/index.js","name":"el","original":{"line":3,"column":6},"generated":{"line":1,"column":41}},{"source":"src/index.js","name":"document","original":{"line":3,"column":11},"generated":{"line":1,"column":43}},{"source":"src/index.js","name":"querySelector","original":{"line":3,"column":20},"generated":{"line":1,"column":52}},{"source":"src/index.js","original":{"line":3,"column":34},"generated":{"line":1,"column":66}},{"source":"src/index.js","name":"sourceStr","original":{"line":4,"column":6},"generated":{"line":1,"column":77}},{"source":"src/index.js","original":{"line":4,"column":18},"generated":{"line":1,"column":79}},{"source":"src/index.js","name":"strArray","original":{"line":5,"column":6},"generated":{"line":1,"column":92}},{"source":"src/index.js","name":"sourceStr","original":{"line":5,"column":17},"generated":{"line":1,"column":94}},{"source":"src/index.js","name":"split","original":{"line":5,"column":27},"generated":{"line":1,"column":96}},{"source":"src/index.js","original":{"line":5,"column":33},"generated":{"line":1,"column":102}},{"source":"src/index.js","name":"bins","original":{"line":7,"column":4},"generated":{"line":1,"column":106}},{"source":"src/index.js","original":{"line":7,"column":11},"generated":{"line":1,"column":108}},{"source":"src/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":111}},{"source":"src/index.js","name":"initElements","original":{"line":9,"column":9},"generated":{"line":1,"column":120}},{"source":"src/index.js","original":{"line":10,"column":2},"generated":{"line":1,"column":124}},{"source":"src/index.js","original":{"line":10,"column":7},"generated":{"line":1,"column":128}},{"source":"src/index.js","name":"i","original":{"line":10,"column":11},"generated":{"line":1,"column":132}},{"source":"src/index.js","original":{"line":10,"column":15},"generated":{"line":1,"column":134}},{"source":"src/index.js","name":"i","original":{"line":10,"column":18},"generated":{"line":1,"column":136}},{"source":"src/index.js","name":"strArray","original":{"line":10,"column":22},"generated":{"line":1,"column":138}},{"source":"src/index.js","name":"length","original":{"line":10,"column":31},"generated":{"line":1,"column":140}},{"source":"src/index.js","name":"i","original":{"line":10,"column":39},"generated":{"line":1,"column":147}},{"source":"src/index.js","original":{"line":10,"column":44},"generated":{"line":1,"column":151}},{"source":"src/index.js","original":{"line":11,"column":4},"generated":{"line":1,"column":152}},{"source":"src/index.js","name":"letter","original":{"line":11,"column":10},"generated":{"line":1,"column":156}},{"source":"src/index.js","name":"strArray","original":{"line":11,"column":19},"generated":{"line":1,"column":158}},{"source":"src/index.js","name":"i","original":{"line":11,"column":28},"generated":{"line":1,"column":160}},{"source":"src/index.js","name":"phraseAtom","original":{"line":13,"column":10},"generated":{"line":1,"column":163}},{"source":"src/index.js","name":"document","original":{"line":13,"column":23},"generated":{"line":1,"column":165}},{"source":"src/index.js","name":"createElement","original":{"line":13,"column":32},"generated":{"line":1,"column":174}},{"source":"src/index.js","original":{"line":13,"column":46},"generated":{"line":1,"column":188}},{"source":"src/index.js","name":"phraseAtom","original":{"line":14,"column":4},"generated":{"line":1,"column":196}},{"source":"src/index.js","name":"innerText","original":{"line":14,"column":15},"generated":{"line":1,"column":198}},{"source":"src/index.js","name":"letter","original":{"line":14,"column":27},"generated":{"line":1,"column":208}},{"source":"src/index.js","name":"el","original":{"line":15,"column":4},"generated":{"line":1,"column":210}},{"source":"src/index.js","name":"appendChild","original":{"line":15,"column":7},"generated":{"line":1,"column":212}},{"source":"src/index.js","name":"phraseAtom","original":{"line":15,"column":19},"generated":{"line":1,"column":224}},{"source":"src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":228}},{"source":"src/index.js","name":"init","original":{"line":19,"column":9},"generated":{"line":1,"column":237}},{"source":"src/index.js","name":"initVisualizer","original":{"line":20,"column":2},"generated":{"line":1,"column":241}},{"source":"src/index.js","name":"initElements","original":{"line":21,"column":2},"generated":{"line":1,"column":245}},{"source":"src/index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":249}},{"source":"src/index.js","name":"submit","original":{"line":24,"column":9},"generated":{"line":1,"column":258}},{"source":"src/index.js","name":"event","original":{"line":24,"column":16},"generated":{"line":1,"column":260}},{"source":"src/index.js","name":"console","original":{"line":25,"column":2},"generated":{"line":1,"column":263}},{"source":"src/index.js","name":"log","original":{"line":25,"column":10},"generated":{"line":1,"column":271}},{"source":"src/index.js","name":"event","original":{"line":25,"column":14},"generated":{"line":1,"column":275}},{"source":"src/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":278}},{"source":"src/index.js","name":"initVisualizer","original":{"line":30,"column":9},"generated":{"line":1,"column":287}},{"source":"src/index.js","name":"undefined","original":{"line":32,"column":33},"generated":{"line":1,"column":296}},{"source":"src/index.js","name":"navigator","original":{"line":32,"column":6},"generated":{"line":1,"column":300}},{"source":"src/index.js","name":"mediaDevices","original":{"line":32,"column":16},"generated":{"line":1,"column":310}},{"source":"src/index.js","name":"navigator","original":{"line":33,"column":4},"generated":{"line":1,"column":325}},{"source":"src/index.js","name":"mediaDevices","original":{"line":33,"column":14},"generated":{"line":1,"column":335}},{"source":"src/index.js","original":{"line":33,"column":29},"generated":{"line":1,"column":348}},{"source":"src/index.js","name":"undefined","original":{"line":39,"column":46},"generated":{"line":1,"column":357}},{"source":"src/index.js","name":"navigator","original":{"line":39,"column":6},"generated":{"line":1,"column":361}},{"source":"src/index.js","name":"mediaDevices","original":{"line":39,"column":16},"generated":{"line":1,"column":371}},{"source":"src/index.js","name":"getUserMedia","original":{"line":39,"column":29},"generated":{"line":1,"column":384}},{"source":"src/index.js","name":"navigator","original":{"line":40,"column":4},"generated":{"line":1,"column":399}},{"source":"src/index.js","name":"mediaDevices","original":{"line":40,"column":14},"generated":{"line":1,"column":409}},{"source":"src/index.js","name":"getUserMedia","original":{"line":40,"column":27},"generated":{"line":1,"column":422}},{"source":"src/index.js","original":{"line":40,"column":42},"generated":{"line":1,"column":435}},{"source":"src/index.js","name":"constraints","original":{"line":40,"column":52},"generated":{"line":1,"column":444}},{"source":"src/index.js","original":{"line":42,"column":6},"generated":{"line":1,"column":447}},{"source":"src/index.js","name":"getUserMedia","original":{"line":42,"column":10},"generated":{"line":1,"column":451}},{"source":"src/index.js","name":"navigator","original":{"line":43,"column":8},"generated":{"line":1,"column":453}},{"source":"src/index.js","name":"webkitGetUserMedia","original":{"line":43,"column":18},"generated":{"line":1,"column":463}},{"source":"src/index.js","name":"navigator","original":{"line":43,"column":40},"generated":{"line":1,"column":483}},{"source":"src/index.js","name":"mozGetUserMedia","original":{"line":43,"column":50},"generated":{"line":1,"column":493}},{"source":"src/index.js","original":{"line":47,"column":6},"generated":{"line":1,"column":509}},{"source":"src/index.js","name":"getUserMedia","original":{"line":47,"column":11},"generated":{"line":1,"column":516}},{"source":"src/index.js","original":{"line":54,"column":13},"generated":{"line":1,"column":518}},{"source":"src/index.js","name":"Promise","original":{"line":54,"column":17},"generated":{"line":1,"column":522}},{"source":"src/index.js","original":{"line":54,"column":25},"generated":{"line":1,"column":530}},{"source":"src/index.js","name":"resolve","original":{"line":54,"column":35},"generated":{"line":1,"column":539}},{"source":"src/index.js","name":"reject","original":{"line":54,"column":44},"generated":{"line":1,"column":541}},{"source":"src/index.js","name":"getUserMedia","original":{"line":55,"column":8},"generated":{"line":1,"column":544}},{"source":"src/index.js","name":"call","original":{"line":55,"column":21},"generated":{"line":1,"column":546}},{"source":"src/index.js","name":"navigator","original":{"line":55,"column":26},"generated":{"line":1,"column":551}},{"source":"src/index.js","name":"constraints","original":{"line":55,"column":37},"generated":{"line":1,"column":561}},{"source":"src/index.js","name":"resolve","original":{"line":55,"column":50},"generated":{"line":1,"column":563}},{"source":"src/index.js","name":"reject","original":{"line":55,"column":59},"generated":{"line":1,"column":565}},{"source":"src/index.js","name":"Promise","original":{"line":48,"column":15},"generated":{"line":1,"column":570}},{"source":"src/index.js","name":"reject","original":{"line":48,"column":23},"generated":{"line":1,"column":578}},{"source":"src/index.js","original":{"line":49,"column":10},"generated":{"line":1,"column":585}},{"source":"src/index.js","name":"Error","original":{"line":49,"column":14},"generated":{"line":1,"column":589}},{"source":"src/index.js","original":{"line":49,"column":20},"generated":{"line":1,"column":595}},{"source":"src/index.js","name":"navigator","original":{"line":60,"column":2},"generated":{"line":1,"column":649}},{"source":"src/index.js","name":"mediaDevices","original":{"line":60,"column":12},"generated":{"line":1,"column":659}},{"source":"src/index.js","name":"getUserMedia","original":{"line":61,"column":5},"generated":{"line":1,"column":672}},{"source":"src/index.js","original":{"line":61,"column":18},"generated":{"line":1,"column":685}},{"source":"src/index.js","name":"audio","original":{"line":61,"column":20},"generated":{"line":1,"column":686}},{"source":"src/index.js","original":{"line":61,"column":27},"generated":{"line":1,"column":693}},{"source":"src/index.js","name":"then","original":{"line":62,"column":5},"generated":{"line":1,"column":697}},{"source":"src/index.js","original":{"line":62,"column":10},"generated":{"line":1,"column":702}},{"source":"src/index.js","name":"stream","original":{"line":62,"column":20},"generated":{"line":1,"column":711}},{"source":"src/index.js","original":{"line":65,"column":6},"generated":{"line":1,"column":714}},{"source":"src/index.js","name":"audioCtx","original":{"line":65,"column":10},"generated":{"line":1,"column":718}},{"source":"src/index.js","original":{"line":65,"column":21},"generated":{"line":1,"column":720}},{"source":"src/index.js","name":"window","original":{"line":65,"column":26},"generated":{"line":1,"column":724}},{"source":"src/index.js","name":"AudioContext","original":{"line":65,"column":33},"generated":{"line":1,"column":731}},{"source":"src/index.js","name":"window","original":{"line":65,"column":49},"generated":{"line":1,"column":745}},{"source":"src/index.js","name":"webkitAudioContext","original":{"line":65,"column":56},"generated":{"line":1,"column":752}},{"source":"src/index.js","name":"analyser","original":{"line":67,"column":10},"generated":{"line":1,"column":772}},{"source":"src/index.js","name":"audioCtx","original":{"line":67,"column":21},"generated":{"line":1,"column":774}},{"source":"src/index.js","name":"createAnalyser","original":{"line":67,"column":30},"generated":{"line":1,"column":776}},{"source":"src/index.js","name":"analyser","original":{"line":68,"column":6},"generated":{"line":1,"column":793}},{"source":"src/index.js","name":"minDecibels","original":{"line":68,"column":15},"generated":{"line":1,"column":795}},{"source":"src/index.js","original":{"line":68,"column":30},"generated":{"line":1,"column":808}},{"source":"src/index.js","name":"analyser","original":{"line":69,"column":6},"generated":{"line":1,"column":811}},{"source":"src/index.js","name":"maxDecibels","original":{"line":69,"column":15},"generated":{"line":1,"column":813}},{"source":"src/index.js","original":{"line":69,"column":30},"generated":{"line":1,"column":826}},{"source":"src/index.js","name":"analyser","original":{"line":70,"column":6},"generated":{"line":1,"column":829}},{"source":"src/index.js","name":"smoothingTimeConstant","original":{"line":70,"column":15},"generated":{"line":1,"column":831}},{"source":"src/index.js","original":{"line":70,"column":39},"generated":{"line":1,"column":853}},{"source":"src/index.js","name":"audioCtx","original":{"line":72,"column":19},"generated":{"line":1,"column":856}},{"source":"src/index.js","name":"createMediaStreamSource","original":{"line":72,"column":28},"generated":{"line":1,"column":858}},{"source":"src/index.js","name":"stream","original":{"line":72,"column":52},"generated":{"line":1,"column":882}},{"source":"src/index.js","name":"connect","original":{"line":73,"column":13},"generated":{"line":1,"column":885}},{"source":"src/index.js","name":"analyser","original":{"line":73,"column":21},"generated":{"line":1,"column":893}},{"source":"src/index.js","name":"analyser","original":{"line":75,"column":6},"generated":{"line":1,"column":896}},{"source":"src/index.js","name":"fftSize","original":{"line":75,"column":15},"generated":{"line":1,"column":898}},{"source":"src/index.js","original":{"line":75,"column":32},"generated":{"line":1,"column":906}},{"source":"src/index.js","name":"bins","original":{"line":75,"column":25},"generated":{"line":1,"column":908}},{"source":"src/index.js","original":{"line":77,"column":6},"generated":{"line":1,"column":910}},{"source":"src/index.js","name":"dataArray","original":{"line":77,"column":10},"generated":{"line":1,"column":914}},{"source":"src/index.js","original":{"line":77,"column":22},"generated":{"line":1,"column":916}},{"source":"src/index.js","name":"Uint8Array","original":{"line":77,"column":26},"generated":{"line":1,"column":920}},{"source":"src/index.js","name":"bins","original":{"line":77,"column":37},"generated":{"line":1,"column":931}},{"source":"src/index.js","name":"avgHistory","original":{"line":79,"column":12},"generated":{"line":1,"column":934}},{"source":"src/index.js","original":{"line":79,"column":25},"generated":{"line":1,"column":936}},{"source":"src/index.js","name":"requestAnimationFrame","original":{"line":116,"column":6},"generated":{"line":1,"column":939}},{"source":"src/index.js","original":{"line":101,"column":6},"generated":{"line":1,"column":961}},{"source":"src/index.js","name":"draw","original":{"line":101,"column":15},"generated":{"line":1,"column":970}},{"source":"src/index.js","name":"now","original":{"line":101,"column":20},"generated":{"line":1,"column":972}},{"source":"src/index.js","name":"analyser","original":{"line":102,"column":8},"generated":{"line":1,"column":975}},{"source":"src/index.js","name":"getByteFrequencyData","original":{"line":102,"column":17},"generated":{"line":1,"column":977}},{"source":"src/index.js","name":"dataArray","original":{"line":102,"column":38},"generated":{"line":1,"column":998}},{"source":"src/index.js","original":{"line":106,"column":8},"generated":{"line":1,"column":1001}},{"source":"src/index.js","original":{"line":105,"column":8},"generated":{"line":1,"column":1005}},{"source":"src/index.js","name":"avg","original":{"line":105,"column":12},"generated":{"line":1,"column":1009}},{"source":"src/index.js","original":{"line":105,"column":18},"generated":{"line":1,"column":1011}},{"source":"src/index.js","name":"i","original":{"line":106,"column":17},"generated":{"line":1,"column":1013}},{"source":"src/index.js","original":{"line":106,"column":21},"generated":{"line":1,"column":1015}},{"source":"src/index.js","name":"i","original":{"line":106,"column":24},"generated":{"line":1,"column":1017}},{"source":"src/index.js","name":"bins","original":{"line":106,"column":28},"generated":{"line":1,"column":1019}},{"source":"src/index.js","name":"i","original":{"line":106,"column":34},"generated":{"line":1,"column":1021}},{"source":"src/index.js","name":"avg","original":{"line":107,"column":10},"generated":{"line":1,"column":1025}},{"source":"src/index.js","name":"dataArray","original":{"line":107,"column":17},"generated":{"line":1,"column":1028}},{"source":"src/index.js","name":"i","original":{"line":107,"column":27},"generated":{"line":1,"column":1030}},{"source":"src/index.js","original":{"line":81,"column":6},"generated":{"line":1,"column":1034}},{"source":"src/index.js","name":"avg","original":{"line":81,"column":31},"generated":{"line":1,"column":1043}},{"source":"src/index.js","original":{"line":82,"column":8},"generated":{"line":1,"column":1046}},{"source":"src/index.js","name":"els","original":{"line":82,"column":14},"generated":{"line":1,"column":1050}},{"source":"src/index.js","name":"el","original":{"line":82,"column":20},"generated":{"line":1,"column":1052}},{"source":"src/index.js","name":"childNodes","original":{"line":82,"column":23},"generated":{"line":1,"column":1054}},{"source":"src/index.js","name":"avgHistory","original":{"line":84,"column":8},"generated":{"line":1,"column":1065}},{"source":"src/index.js","name":"push","original":{"line":84,"column":19},"generated":{"line":1,"column":1067}},{"source":"src/index.js","name":"avg","original":{"line":84,"column":24},"generated":{"line":1,"column":1072}},{"source":"src/index.js","name":"avgHistory","original":{"line":85,"column":12},"generated":{"line":1,"column":1075}},{"source":"src/index.js","name":"length","original":{"line":85,"column":23},"generated":{"line":1,"column":1077}},{"source":"src/index.js","name":"els","original":{"line":85,"column":32},"generated":{"line":1,"column":1084}},{"source":"src/index.js","name":"length","original":{"line":85,"column":36},"generated":{"line":1,"column":1086}},{"source":"src/index.js","name":"avgHistory","original":{"line":86,"column":10},"generated":{"line":1,"column":1094}},{"source":"src/index.js","name":"shift","original":{"line":86,"column":21},"generated":{"line":1,"column":1096}},{"source":"src/index.js","original":{"line":89,"column":8},"generated":{"line":1,"column":1104}},{"source":"src/index.js","original":{"line":89,"column":13},"generated":{"line":1,"column":1108}},{"source":"src/index.js","name":"i","original":{"line":89,"column":17},"generated":{"line":1,"column":1112}},{"source":"src/index.js","name":"els","original":{"line":89,"column":21},"generated":{"line":1,"column":1114}},{"source":"src/index.js","name":"length","original":{"line":89,"column":25},"generated":{"line":1,"column":1116}},{"source":"src/index.js","original":{"line":89,"column":34},"generated":{"line":1,"column":1123}},{"source":"src/index.js","name":"i","original":{"line":89,"column":37},"generated":{"line":1,"column":1125}},{"source":"src/index.js","original":{"line":89,"column":42},"generated":{"line":1,"column":1128}},{"source":"src/index.js","name":"i","original":{"line":89,"column":45},"generated":{"line":1,"column":1130}},{"source":"src/index.js","name":"els","original":{"line":90,"column":21},"generated":{"line":1,"column":1134}},{"source":"src/index.js","name":"i","original":{"line":90,"column":25},"generated":{"line":1,"column":1136}},{"source":"src/index.js","name":"style","original":{"line":91,"column":13},"generated":{"line":1,"column":1139}},{"source":"src/index.js","name":"fontVariationSettings","original":{"line":91,"column":19},"generated":{"line":1,"column":1145}},{"source":"src/index.js","name":"concat","original":{"line":91,"column":40},"generated":{"line":1,"column":1167}},{"source":"src/index.js","name":"concat","original":{"line":91,"column":40},"generated":{"line":1,"column":1177}},{"source":"src/index.js","name":"map","original":{"line":91,"column":53},"generated":{"line":1,"column":1184}},{"source":"src/index.js","name":"avgHistory","original":{"line":92,"column":12},"generated":{"line":1,"column":1186}},{"source":"src/index.js","name":"i","original":{"line":92,"column":23},"generated":{"line":1,"column":1188}},{"source":"src/index.js","original":{"line":93,"column":12},"generated":{"line":1,"column":1191}},{"source":"src/index.js","original":{"line":94,"column":12},"generated":{"line":1,"column":1193}},{"source":"src/index.js","original":{"line":95,"column":12},"generated":{"line":1,"column":1196}},{"source":"src/index.js","original":{"line":96,"column":12},"generated":{"line":1,"column":1199}},{"source":"src/index.js","name":"setFontFeatures","original":{"line":111,"column":8},"generated":{"line":1,"column":1206}},{"source":"src/index.js","name":"avg","original":{"line":109,"column":8},"generated":{"line":1,"column":1207}},{"source":"src/index.js","name":"bins","original":{"line":109,"column":15},"generated":{"line":1,"column":1210}},{"source":"src/index.js","name":"requestAnimationFrame","original":{"line":113,"column":8},"generated":{"line":1,"column":1213}},{"source":"src/index.js","name":"draw","original":{"line":113,"column":30},"generated":{"line":1,"column":1235}},{"source":"src/index.js","name":"catch","original":{"line":118,"column":5},"generated":{"line":1,"column":1242}},{"source":"src/index.js","original":{"line":118,"column":11},"generated":{"line":1,"column":1248}},{"source":"src/index.js","name":"err","original":{"line":118,"column":21},"generated":{"line":1,"column":1257}},{"source":"src/index.js","name":"console","original":{"line":119,"column":6},"generated":{"line":1,"column":1260}},{"source":"src/index.js","name":"log","original":{"line":119,"column":14},"generated":{"line":1,"column":1268}},{"source":"src/index.js","original":{"line":119,"column":18},"generated":{"line":1,"column":1272}},{"source":"src/index.js","name":"err","original":{"line":119,"column":52},"generated":{"line":1,"column":1304}},{"source":"src/index.js","original":{"line":123,"column":0},"generated":{"line":1,"column":1309}},{"source":"src/index.js","name":"map","original":{"line":123,"column":9},"generated":{"line":1,"column":1318}},{"source":"src/index.js","name":"value","original":{"line":123,"column":13},"generated":{"line":1,"column":1320}},{"source":"src/index.js","name":"min1","original":{"line":123,"column":20},"generated":{"line":1,"column":1322}},{"source":"src/index.js","name":"max1","original":{"line":123,"column":26},"generated":{"line":1,"column":1324}},{"source":"src/index.js","name":"min2","original":{"line":123,"column":32},"generated":{"line":1,"column":1326}},{"source":"src/index.js","name":"max2","original":{"line":123,"column":38},"generated":{"line":1,"column":1328}},{"source":"src/index.js","original":{"line":125,"column":2},"generated":{"line":1,"column":1331}},{"source":"src/index.js","name":"value","original":{"line":124,"column":22},"generated":{"line":1,"column":1338}},{"source":"src/index.js","name":"min1","original":{"line":124,"column":30},"generated":{"line":1,"column":1340}},{"source":"src/index.js","name":"max1","original":{"line":124,"column":39},"generated":{"line":1,"column":1344}},{"source":"src/index.js","name":"min1","original":{"line":124,"column":46},"generated":{"line":1,"column":1346}},{"source":"src/index.js","name":"max2","original":{"line":124,"column":56},"generated":{"line":1,"column":1350}},{"source":"src/index.js","name":"min2","original":{"line":124,"column":63},"generated":{"line":1,"column":1352}},{"source":"src/index.js","name":"min2","original":{"line":124,"column":71},"generated":{"line":1,"column":1355}},{"source":"src/index.js","name":"window","original":{"line":28,"column":0},"generated":{"line":1,"column":1357}},{"source":"src/index.js","name":"addEventListener","original":{"line":28,"column":7},"generated":{"line":1,"column":1364}},{"source":"src/index.js","original":{"line":28,"column":24},"generated":{"line":1,"column":1381}},{"source":"src/index.js","name":"init","original":{"line":28,"column":32},"generated":{"line":1,"column":1388}},{"source":"src/index.js","original":{"line":28,"column":40},"generated":{"line":1,"column":1393}}],"sources":{"src/index.js":"import \"./styles.css\";\n\nconst el = document.querySelector(\"#app h1\");\nconst sourceStr = \"amplificar\";\nconst strArray = sourceStr.split(\"\");\n\nvar bins = 16;\n\nfunction initElements() {\n  for (let i = 0; i < strArray.length; i++) {\n    const letter = strArray[i];\n\n    const phraseAtom = document.createElement(\"SPAN\");\n    phraseAtom.innerText = letter;\n    el.appendChild(phraseAtom);\n  }\n}\n\nfunction init() {\n  initVisualizer();\n  initElements();\n}\n\nfunction submit(event) {\n  console.log(event);\n}\n\nwindow.addEventListener(\"load\", init(), false);\n\nfunction initVisualizer() {\n  // Older browsers might not implement mediaDevices at all, so we set an empty object first\n  if (navigator.mediaDevices === undefined) {\n    navigator.mediaDevices = {};\n  }\n\n  // Some browsers partially implement mediaDevices. We can't just assign an object\n  // with getUserMedia as it would overwrite existing properties.\n  // Here, we will just add the getUserMedia property if it's missing.\n  if (navigator.mediaDevices.getUserMedia === undefined) {\n    navigator.mediaDevices.getUserMedia = function (constraints) {\n      // First get ahold of the legacy getUserMedia, if present\n      var getUserMedia =\n        navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n\n      // Some browsers just don't implement it - return a rejected promise with an error\n      // to keep a consistent interface\n      if (!getUserMedia) {\n        return Promise.reject(\n          new Error(\"getUserMedia is not implemented in this browser\")\n        );\n      }\n\n      // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\n      return new Promise(function (resolve, reject) {\n        getUserMedia.call(navigator, constraints, resolve, reject);\n      });\n    };\n  }\n\n  navigator.mediaDevices\n    .getUserMedia({ audio: true })\n    .then(function (stream) {\n      // Set up a Web Audio AudioContext and AnalyzerNode, configured to return the\n      // same number of bins of audio frequency data.\n      var audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n\n      var analyser = audioCtx.createAnalyser();\n      analyser.minDecibels = -70;\n      analyser.maxDecibels = -10;\n      analyser.smoothingTimeConstant = 0.5;\n\n      var source = audioCtx.createMediaStreamSource(stream);\n      source.connect(analyser);\n\n      analyser.fftSize = bins * 2;\n\n      var dataArray = new Uint8Array(bins);\n\n      const avgHistory = [];\n\n      function setFontFeatures(avg) {\n        const els = el.childNodes;\n\n        avgHistory.push(avg);\n        if (avgHistory.length > els.length) {\n          avgHistory.shift();\n        }\n\n        for (let i = els.length - 1; i >= 0; i--) {\n          const el = els[i];\n          el.style.fontVariationSettings = `\"wght\" ${map(\n            avgHistory[i],\n            0,\n            64,\n            10,\n            100\n          )}`;\n        }\n      }\n\n      function draw(now) {\n        analyser.getByteFrequencyData(dataArray);\n\n        // Use that data to drive updates to the fill-extrusion-height property.\n        let avg = 0;\n        for (var i = 0; i < bins; i++) {\n          avg += dataArray[i];\n        }\n        avg /= bins;\n\n        setFontFeatures(avg);\n\n        requestAnimationFrame(draw);\n      }\n\n      requestAnimationFrame(draw);\n    })\n    .catch(function (err) {\n      console.log(\"The following error occured: \" + err);\n    });\n}\n\nfunction map(value, min1, max1, min2, max2) {\n  var returnvalue = ((value - min1) / (max1 - min1)) * (max2 - min2) + min2;\n  return returnvalue;\n}\n"},"lineCount":null}},"error":null,"hash":"0c239e7884e6232929fcf2afde306f35","cacheData":{"env":{}}}